---
layout: '@/layouts/Layout.astro'
title: Localization
---

import { StackBlitz } from '@/components/StackBlitz.tsx'
import {
  SB_LOCALIZATION_PACKS,
  SB_LOCALIZATION_GET,
  SB_LOCALIZATION_VARIABLES,
  SB_LOCALIZATION_STORAGE
} from '@/definitions/stack-blitz/core/modules'

The **Localization** class is used to manage localization packs for a project. It provides methods for adding new packs and retrieving localized strings.

The **Localization** class can also store the language. The language is passed as an argument to the constructor, and is stored as a property of the class instance. The **initialize** method is used to copy the **Localization** instance to the storage object, and it copies the language property as well

## Packs

In the **Localization** class, packs can be set from the constructor and also added with the **push** method.

Overall, the **Localization** class provides flexibility in managing localization packs by allowing packs to be set from the constructor and also added with the **push** method. This allows for easy initialization of the **Localization** instance with pre-existing localized strings, as well as adding new localized strings dynamically.

<StackBlitz
  client:load
  dependencies={{ '@aracna/core': 'latest' }}
  files={SB_LOCALIZATION_PACKS}
  template='javascript'
  title='Localization'
  console={100}
/>

## Localize

The **get** method in the **Localization** class is used to retrieve a localized string from a localization pack. It takes a path to the localized string as the only argument.

The **get** method with only a path argument is a simplified version of the method that allows for easy retrieval of localized strings with variable substitution.

When called with a **language** and a **path**, the method retrieves the localization pack for the specified language, and if it doesn't exist, it returns the path. If the localized string exists in the pack, the method checks for any variables in the string using a regular expression. If variables are found, the method replaces them with their corresponding values from the localization variables object. The method then returns the localized string with the variables replaced.

<StackBlitz
  client:load
  dependencies={{ '@aracna/core': 'latest' }}
  files={SB_LOCALIZATION_GET}
  template='javascript'
  title='Localization'
  console={100}
/>

## Variables

The **get** method with variables allows for easy retrieval of localized strings with variable substitution, making it easy to customize the localized strings for different use cases.

If the localized string contains variables, the method replaces them with their corresponding values from the localization variables object. The variables are specified in the localized string using curly braces, for example **\{name\}**. The method uses a regular expression to find all variables in the string, and then replaces them with their corresponding values from the localization variables object.

<StackBlitz
  client:load
  dependencies={{ '@aracna/core': 'latest' }}
  files={SB_LOCALIZATION_VARIABLES}
  template='javascript'
  title='Localization'
  console={100}
/>

## Storage

In the **Localization** class, the **storage** property is used to store the **Localization** instance in a persistent storage. The **storage** property is set when the **initialize** method is called, and it is used to store the **Localization** instance in a persistent storage using the **set** method of the storage object.

The **storeLanguage** method is used to set the language of the **Localization** instance and store it in the persistent storage. It takes a language as an argument, sets the language property of the **Localization** instance, and stores the instance in the persistent storage using the set method of the storage object.

<StackBlitz
  client:load
  dependencies={{ '@aracna/core': 'latest', '@aracna/web': 'latest' }}
  files={SB_LOCALIZATION_STORAGE}
  template='javascript'
  title='Localization'
  console={100}
/>
