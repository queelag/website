---
layout: '@/layouts/Layout.astro'
title: AracnaBlob
---

import { Alert } from '@/components/Alert.tsx'
import { CodeBlock } from '@/blocks/CodeBlock.tsx'
import {
  SB_ARACNA_BLOB_RESOLVE_ARRAY_BUFFER,
  SB_ARACNA_BLOB_RESOLVE_TEXT,
  SB_ARACNA_BLOB_BASE64,
  SB_ARACNA_BLOB_UINT8ARRAY,
  SB_ARACNA_BLOB_SERIALIZATION
} from '@/definitions/stack-blitz/core/classes'

The **AracnaBlob** class is a utility class for working with binary blob data. It provides several methods and properties for working with the blob data in various formats.

Overall, the **AracnaBlob** class is a useful utility class for working with binary blob data in a variety of formats.

## Resolve ArrayBuffer

The **resolveArrayBuffer** function in the **AracnaBlob** class resolves the **Blob** data to an **ArrayBuffer**.

When the **AracnaBlob** object is created, it contains a **Blob** object that represents the binary data of the file. However, the **Blob** object does not provide direct access to the binary data in the form of an **ArrayBuffer**. Instead, you need to call the arrayBuffer method on the Blob object to get an **ArrayBuffer** containing the binary data.

<CodeBlock
  client:load
  dependencies={{ '@aracna/core': 'latest' }}
  files={SB_ARACNA_BLOB_RESOLVE_ARRAY_BUFFER}
  template='javascript'
  title='aracna-blob'
  console={100}
/>

## Resolve Text

The **resolveText** function is a method of the **AracnaBlob** class that resolves the text content of the blob to a string.

The **resolveText** function is a convenient way to read the text content of a blob.

<CodeBlock
  client:load
  dependencies={{ '@aracna/core': 'latest' }}
  files={SB_ARACNA_BLOB_RESOLVE_TEXT}
  template='javascript'
  title='aracna-blob'
  console={100}
/>

## Resolve Base64

The **base64** getter is a property of the **AracnaBlob** class that returns the base64-encoded string representation of the binary data in the blob.

The **base64** getter is a convenient way to get the base64-encoded string representation of binary data.

<CodeBlock
  client:load
  dependencies={{ '@aracna/core': 'latest' }}
  files={SB_ARACNA_BLOB_BASE64}
  template='javascript'
  title='aracna-blob'
  console={100}
/>

## Resolve UInt8Array

The **uInt8Array** getter is a property of the **AracnaBlob** class that returns a **Uint8Array** containing the binary data of the blob.

The **uInt8Array** getter is a convenient way to get the binary data of a blob.

<CodeBlock
  client:load
  dependencies={{ '@aracna/core': 'latest' }}
  files={SB_ARACNA_BLOB_UINT8ARRAY}
  template='javascript'
  title='aracna-blob'
  console={100}
/>

## Serialization & Deserialization

**AracnaBlob** objects can be serialized and deserialized using **JSON**. Here's how it works:

When an **AracnaBlob** object is serialized to **JSON**, the resulting **JSON** object contains the following properties:

- **type**: The MIME type of the blob.
- **base64**: The base64-encoded string representation of the blob.
- **uInt8Array**: An array of numbers representing the contents of the Uint8Array returned by the uInt8Array getter.
- **id**: A unique identifier for the **AracnaBlob** object.
- **text**: The text content of the blob, if any.

When an **AracnaBlob** object is deserialized from **JSON**, a new **AracnaBlob** object is created using the **Blob** constructor with the type and base64 properties of the **JSON** object. The uInt8Array, id, and text properties of the **JSON** object are then used to set the corresponding properties of the new **AracnaBlob** object.

<Alert client:load className='mb-6' severity='info'>
  Note that the resolveArrayBuffer method must be called on the deserialized
  AracnaBlob object to resolve the ArrayBuffer before accessing the uInt8Array
  property.
</Alert>

<CodeBlock
  client:load
  dependencies={{ '@aracna/core': 'latest' }}
  files={SB_ARACNA_BLOB_SERIALIZATION}
  template='javascript'
  title='aracna-blob'
  console={100}
/>

## EMPTY

The **EMPTY** getter is a static getter of the **AracnaBlob** class that returns an empty **AracnaBlob** object. This getter is used to create a new **AracnaBlob** object with an empty **Blob** object as its underlying data.

The **EMPTY** getter is useful when you need to create a new **AracnaBlob** object with no data. You can use this object as a placeholder or default value for **AracnaBlob** objects in your code.
