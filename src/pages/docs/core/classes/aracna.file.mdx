---
layout: ../../../../layouts/DocsLayout.astro
title: AracnaFile
---

This class is an enhanced version of File.

- Isomorphic
- Getters for ArrayBuffer, Base64, Text and UInt8Array
- Empty getter
- JSON serialization

### Usage

```ts
import { AracnaFile } from '@aracna/core'

// will create a new instance of AracnaFile which has all the features of File available plus the custom ones
const file = new AracnaFile(new File([], ''))
```

### Read Contents

```ts
import { AracnaFile } from '@aracna/core'

const file = new AracnaFile(new File([], ''))

// will populate the arrayBuffer, base64 and uInt8Array fields
await file.resolveArrayBuffer()

console.log(file.arrayBuffer)
console.log(file.base64)
console.log(file.uInt8Array)

// will populate the text and uInt8Array fields
await file.resolveText()

console.log(file.text)
console.log(file.uInt8Array)
```

### Empty

```ts
import { AracnaFile } from '@aracna/core'

let file = new AracnaFile(new File([], ''))

// this will reset the file value
file = AracnaFile.EMPTY
```

### JSON Serialization

```ts
import { AracnaFile } from '@aracna/core'

const file = new AracnaFile(new File([], ''))

// to properly serialize it we need to first resolve the ArrayBuffer or Text
await file.resolveArrayBuffer()
// or await file.resolveText()

// will also hold the contents since we resolved them earlier
const deserialized_file = JSON.stringify(file)

// will match the original file 1:1 except for the ID which is randomly generated on each new instance of the class
const serialized_file = JSON.parse(deserialized_file)

// will match
console.log(file.uInt8Array, serialized_file.uInt8Array)
```
