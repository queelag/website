---
title: AracnaBlob
---

import { Alert } from '@/components/Alert'
import { CodeBlock } from '@/blocks/CodeBlock'
import {
  SB_ARACNA_BLOB_RESOLVE_ARRAY_BUFFER,
  SB_ARACNA_BLOB_RESOLVE_TEXT,
  SB_ARACNA_BLOB_UINT8ARRAY,
  SB_ARACNA_BLOB_SERIALIZATION
} from '@/definitions/stack-blitz/core/classes'

The `AracnaBlob` class is built on top of the Blob class.

- The data contained in the Blob can be resolved asynchronously and accessed at a later time from the instance itself.
- The instance supports JSON serialization and deserialization out of the box unlike the Blob class.

## Properties

- **blob (Blob):** The Blob instance. It contains the actual Blob data.
- **id (string):** The unique identifier of the instance. It is generated when the instance is created.

## Getters

- **arrayBuffer (ArrayBuffer):** The data contained in the Blob as an ArrayBuffer. You need to call the "resolveArrayBuffer" method before accessing this property. If the ArrayBuffer has not been resolved yet, it returns an empty ArrayBuffer.
- **size (number):** The size of the Blob in bytes. [MDN Reference](https://developer.mozilla.org/docs/Web/API/Blob/size)
- **text (string):** The data contained in the Blob as a string. You need to call the "resolveText" method before accessing this property. If the text has not been resolved yet, it returns an empty string.
- **type (string):** The MIME type of the Blob. If the type is not defined, it returns 'application/octet-stream'. [MDN Reference](https://developer.mozilla.org/docs/Web/API/Blob/type)
- **uInt8Array (Uint8Array):** The data contained in the Blob as a Uint8Array. You need to call the "resolveArrayBuffer" or "resolveText" method before accessing this property. If the ArrayBuffer or text has not been resolved yet, it returns an empty Uint8Array.

## Read as ArrayBuffer

The `resolveArrayBuffer` method is an asynchronous method that resolves the data contained in the Blob as an ArrayBuffer.

<CodeBlock
  client:load
  dependencies={{ '@aracna/core': 'latest' }}
  files={SB_ARACNA_BLOB_RESOLVE_ARRAY_BUFFER}
  template='javascript'
  title='AracnaBlob'
  console={100}
/>

## Read as String

The `resolveText` method is an asynchronous method that resolves the data contained in the Blob as a string.

<CodeBlock client:load dependencies={{ '@aracna/core': 'latest' }} files={SB_ARACNA_BLOB_RESOLVE_TEXT} template='javascript' title='AracnaBlob' console={100} />

## Read as Uint8Array

To read the data contained in the Blob as a `Uint8Array`, you need to call either the `resolveArrayBuffer` or `resolveText` method before accessing the `uInt8Array` property.

<CodeBlock client:load dependencies={{ '@aracna/core': 'latest' }} files={SB_ARACNA_BLOB_UINT8ARRAY} template='javascript' title='AracnaBlob' console={100} />

## Serialization & Deserialization

In the `AracnaBlob` class, JSON serialization and deserialization are used to convert the instance into a JSON object and create an instance from a JSON object.

<Alert client:load className='mb-6' severity='warning'>
  The `resolveArrayBuffer` or `resolveText` method must be called before serializing the instance.
</Alert>

<CodeBlock
  client:load
  dependencies={{ '@aracna/core': 'latest' }}
  files={SB_ARACNA_BLOB_SERIALIZATION}
  template='javascript'
  title='AracnaBlob'
  console={100}
/>
