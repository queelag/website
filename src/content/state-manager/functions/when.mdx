---
title: when
---

import { CodeBlock } from '@/blocks/CodeBlock'
import { SB_WHEN_CALLBACK, SB_WHEN_PROMISE } from '@/definitions/stack-blitz/state-manager/functions'

The `when` function runs an effect whenever the predicate becomes true, or returns a promise that resolves when the predicate becomes true.

## Callback

The `when` function runs an effect whenever the predicate becomes true.

<CodeBlock
  client:load
  dependencies={{ '@aracna/core': 'latest', '@aracna/state-manager': 'latest' }}
  files={SB_WHEN_CALLBACK}
  template='javascript'
  title='when'
  console={100}
/>

## Promise

The `when` function returns a promise that resolves when the predicate becomes true.

<CodeBlock
  client:load
  dependencies={{ '@aracna/core': 'latest', '@aracna/state-manager': 'latest' }}
  files={SB_WHEN_PROMISE}
  template='javascript'
  title='when'
  console={100}
/>
